<!DOCTYPE html> 
<html> 
<head> 
  <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.1.1/jquery.mobile-1.1.1.min.css" />
	<link rel="stylesheet" href="my.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.1.1/jquery.mobile-1.1.1.min.js"></script>
	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
	http://jquery-ui-map.googlecode.com/svn/trunk/ui/min/jquery.ui.map.full.min.js
	<title>Map Tests</title>
</head> 

<body> 

	<div data-role="page" id="home">
	  <div data-role="header">
		<h1>Home</h1>
	  </div>

	  <div data-role="content">
		<span> Latitude : </span> <input type="text" id="lat" />
		<span> Longitude : </span> <input type="text" id="lng" />
		<a href="#win2" data-role="button" id="btn" data-inline="true" data-icon="arrow-r">Display map</a>
	  </div>
	</div>

	<div data-role="page" id="win2" data-add-back-btn="true">
		<div data-role="header">
			<h1>Window 2</h1>
		</div>
		
		<div data-role="content">
		  <div id="#win2" style="width:400px;height:700px;"></div>
		</div>
	</div>

</body>
</html>

<script type="text/javascript">

	navigator.geolocation.getCurrentPosition (function (pos)
	{
	  var lat = pos.coords.latitude;
	  var lng = pos.coords.longitude;
	  $("#lat").val (lat);
	  $("#lng").val (lng);
	});

	$("#btn").bind ("click", function (event)
	{
	  var lat = $("#lat").val ();
	  var lng = $("#lng").val ();
	  var latlng = new google.maps.LatLng (lat, lng);
	  var options = { 
		zoom : 15, 
		center : latlng, 
		mapTypeId : google.maps.MapTypeId.ROADMAP };
	  var $content = $("#win2 div:jqmData(role=content)");
	  $content.height (screen.height - 50);
	  var map = new google.maps.Map ($content[0], options);
	  $.mobile.changePage ($("#win2"));
	  
	  new google.maps.Marker ( 
	  { 
		map : map, 
		animation : google.maps.Animation.DROP,
		position : latlng  
	  });  
	});

</script>